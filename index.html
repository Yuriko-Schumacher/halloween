<!DOCTYPE html>
<html>
	<head>
		<title>Mini Project 1</title>
		<link rel="stylesheet" href="style.css" />
		<link
			rel="stylesheet"
			href="https://use.fontawesome.com/releases/v5.6.1/css/all.css"
		/>
	</head>
	<body>
		<div id="header">
			<div id="header--content">
				<h1>What is the most Popular Halloween Candy?</h1>
				<p>
					The year of 2020 is passing by so fast, and before we know
					it, it'll be Halloween!
				</p>
				<p>
					I found this data set put together by
					<b>FiveThirtyEight</b>, for the project
					<a
						href="https://fivethirtyeight.com/videos/the-ultimate-halloween-candy-power-ranking/"
						target="_blank"
						>The Ultimate Halloween Candy Power Ranking</a
					>.
				</p>
				<p>
					I am analyzing this data set because trick or treating is
					such an interesting part of American culture, and I'd like
					to know more about popular American candies.
				</p>
				<p class="info">
					<b>
						October 2020 (updated January 2021)<br />by Yuriko
						Schumacher</b
					>
				</p>
				<div id="header--bottom">
					<a href="#main"><i class="fas fa-angle-down"></i></a>
				</div>
			</div>
		</div>
		<div id="main">
			<section class="body">
				<h2>Introducing the data</h2>
				<p>
					This deta set was put together in 2017 to determine which
					Halloween candy is most preferred. According to
					<a
						href="https://fivethirtyeight.com/videos/the-ultimate-halloween-candy-power-ranking/"
						target="_blank"
						>the project's article</a
					>, <b>FiveThirtyEight</b> conducted an experimental survey
					where people are randomly presented two Halloween candies
					(out of 85 different kinds) and asked to choose the one they
					prefer.
				</p>
				<p>
					<b>FiveThirtyEight</b> collected the voting data from 8,371
					different IP addresses on about 269,000 candy combinations.
				</p>
				<p>
					<a
						href="https://github.com/fivethirtyeight/data/tree/master/candy-power-ranking"
						target="_blank"
						>The data set</a
					>
					shows the win rate (popularity) for each candy, as well as
					its attributes.
				</p>
				<div id="rowscolumns">
					<h3>Rows and columns</h3>
					<p>
						In the data set, each row corresponds to a single candy.
						For each candy, the data includes the following
						variables. For binary variables, 1 means "Yes", and 0
						means "No".
					</p>
					<ul>
						<li><b>competitorname</b>: name of the candy</li>
						<li>
							<b>chocolate</b>: whether the candy contains
							chocolate
						</li>
						<li>
							<b>fruity</b>: whether the candy is fruit flavored
						</li>
						<li>
							<b>peanutalmondy</b>: whether the candy contains
							peanuts, peanut butter, or almonds
						</li>
						<li>
							<b>nougat</b>: whether the candy contains nougat
						</li>
						<li>
							<b>crispedricewafer</b>: whether the candy contains
							crisped rice, wafers, or a cookie component
						</li>
						<li><b>hard</b>: whether the candy is a hard candy</li>
						<li><b>bar</b>: whether the candy is a candy bar</li>
						<li>
							<b>pluribus</b>: whether the candy is one of many
							candies in a bag or box
						</li>
						<li>
							<b>sugarpercent</b>: the percentile of sugar the
							candy falls under within the data set
						</li>
						<li>
							<b>pricepercent</b>: the unit price percentile
							compared to the rest of the set
						</li>
						<li>
							<b>winpercent</b>: the overall win percentage
							according to 269,000 matchups
						</li>
					</ul>
				</div>
			</section>

			<section class="body">
				<h2>Visualizing the data</h2>
				<p>
					In this section, I'm going to visualize the data to answer
					the following questions:
				</p>

				<ul>
					<li>What is the candy's win rate?</li>
					<li>
						Is there any relationship between a candy's sugar
						content, or unit price, and its popularity?
					</li>
					<li>
						How many candies are hard candies and how many are candy
						bars? Which type is more popular overall?
					</li>
				</ul>
			</section>

			<div id="rank-viz">
				<section class="body">
					<h3>1. The win rate ranking</h3>
					<p>
						First, I'm going to visualize the candies' win rates.
						Since there are many attributes to candies, I'm going to
						visualize how many candies have certain attributes, and
						where they are located in the ranking.
					</p>
					<p>To do that, I'm going to create an ordered bar chart.</p>
				</section>
			</div>
			<section id="scrolly__bar">
				<figure id="rank-bar" class="sticky">
					<button class="button" id="chocolate" disabled>
						chocolate
					</button>
					<button class="button" id="fruity" disabled>fruity</button>
					<button class="button" id="caramel" disabled>
						caramel
					</button>
					<button class="button" id="crispedricewafer" disabled>
						crispy
					</button>
					<button class="button" id="peanutyalmondy" disabled>
						peanuty
					</button>
					<button class="button" id="nougat" disabled>nougat</button>
				</figure>
				<article>
					<div class="step" data-index="0">
						<p>
							Each bar represents the candy's win rate. The bar in
							the higher position has more popularity (higher win
							rate).
						</p>
					</div>
					<div
						class="step"
						data-index="1"
						data-id="Reese's Peanut Butter cup"
					>
						<p>
							The candy with the highest win rate is
							<a
								href="https://www.hersheys.com/reeses/en_us/products/reeses-peanut-butter-cups.html"
								target="_blank"
								>Reese's Peanut Butter cup</a
							>
							with the win rate of 84.18%.
						</p>
					</div>
					<div class="step" data-index="2" data-id="Nik L Nip">
						<p>
							The least preferred candy is
							<a
								href="https://www.candystore.com/concord-nik-l-nip-wax-bottles-candy/"
								target="_blank"
								>Nik L Nip</a
							>, wax bottled mini-candy drinks with the win rate
							of 22.45%.
						</p>
					</div>
					<div class="step" data-index="3" data-id="chocolate">
						<p>
							These are candies that contain
							<span class="font-flavor font-chocolate"
								>chocolate</span
							>. From the visualization, we can say higher-ranked
							candies tend to contain chocolate. (You can always
							hover over bars to check out which candy that bar
							represents!)
						</p>
					</div>
					<div class="step" data-index="4" data-id="fruity">
						<p>
							These candies have
							<span class="font-flavor font-fruity">fruity</span>
							flavors. This shows that candies that contain fruity
							flavors are fairly equally distributed, except for
							the ones in the highest-ranked group.
						</p>
					</div>
					<div class="step" data-index="5">
						<p>
							There are other candy attributes:
							<span class="font-flavor font-caramel">caramel</span
							>,
							<span class="font-flavor font-crispy">crispy</span>,
							<span class="font-flavor font-peanuty">peanuty</span
							>, and
							<span class="font-flavor font-nougat">nougat</span>.
							You can click the buttons above the chart to show
							the bars with the attribute. If you hover over the
							bars, you can also see, in the tooltip, the candy's
							attributes shown as circles of the corresponding
							colors on the button.
						</p>
						<p>Explore more yourself!</p>
					</div>
				</article>
			</section>
			<section class="body">
				<div id="sugar-price-win">
					<h3>
						2. Relationships between sugar, price, and win
						percentiles
					</h3>
					<p>
						Here, I'm making a scatter plot to see if there's a
						correlation between a candy's sugar content, or unit
						price, and its popularity.
					</p>
					<img
						src="./image/sugar_price_win.png"
						width="680"
						alt="Scatter plot of sugar, price, win percentages"
					/>
				</div>
				<p>
					On the y-axis, "Sugar percentile" is the sugar percentage
					the candy falls under within the data set. The color key
					"Price percentile" shows the candy's unit price percentile
					compared to the other candies in the data set.
				</p>
				<p>
					From this visualization, it doesn't look like there's a
					notable correlation between how much sugar each candy
					contains and its popularity, or the candy's price and its
					popularity.
				</p>
				<div id="bar-or-hard">
					<h3>3. Candy bar or hard candy?</h3>
					<p>
						Finally, all the candies can be grouped as either 1)
						hard candy, 2) candy bar, or 3) neither.
					</p>
					<p>
						In this section, I'm going to create an alluvial diagram
						and visualize the relationship between a candy's type
						and win percentage. Here, I will use
						<a
							href="https://www.r-graph-gallery.com/sankey-diagram.html"
							target="_blank"
							>the R Graph Gallery</a
						>
						and
						<a
							href="https://cran.r-project.org/web/packages/ggalluvial/vignettes/ggalluvial.html"
							target="_blank"
							>CRAN - R Project</a
						>
						as a reference.
					</p>
					<p>
						First, I'm going to manipulate the data into an alluvial
						form. To do this, I divide the win rate into four groups
						(quantiles).
					</p>
					<p>
						From the top 25% in popularity, I'll label the data as
						"Rank 1", followed by "Rank 2" (25% ~ 50%), "Rank 3"
						(50% ~ 75%), and "Rank 4" (bottom 25%).
					</p>
					<img
						src="./image/win_type.png"
						width="680"
						alt="Alluvial diagram of candy types and win rate"
					/>
					<p>
						This visualization shows that candy bars tend to be more
						preferred; about half of candy bars are ranked on the
						top 25%. Conversely, hard candies are less popular; most
						of them are ranked below 50%.
					</p>
					<p>
						However, as shown in the visualization, more than half
						the candies are labeled "Neither" as the candy type.
						Those candies include:
						<a
							href="https://www.hersheys.com/reeses/en_us/products/reeses-peanut-butter-cups.html"
							target="_blank"
							>Reese's Peanut Butter cup</a
						>,
						<a
							href="https://www.candystore.com/candy-corn-30lb/"
							target="_blank"
							>Candy Corn</a
						>,
						<a
							href="https://www.mms.com/en-us/mms-peanut-butter-chocolate-sharing-size/p/mms-peanut-butter-chocolate"
							target="_blank"
							>Peanut butter M&M's</a
						>,
						<a
							href="https://www.candystore.com/skittles-original-theater-box-12ct/"
							target="_blank"
							>Skittles Original</a
						>, and so forth. Since a lot of popular candies are
						labeled as "Neither", more detailed analysis is needed
						to better see what types of candies are popular among
						American people.
					</p>
					<p>
						Now, I'm craving candy...
						<br />Happy Halloween!
					</p>
				</div>
			</section>
		</div>

		<div id="footer">
			<a href="#header">Back to Top　<i class="fas fa-ghost"></i></a>
		</div>
		<script src="https://d3js.org/d3.v6.min.js"></script>
		<script src="https://unpkg.com/enter-view"></script>
		<script src="script.js"></script>
	</body>
</html>
